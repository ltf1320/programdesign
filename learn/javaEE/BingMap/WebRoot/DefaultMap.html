<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>DefaultMap.html</title>
<script charset="UTF-8" type="text/javascript" src="https://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0&mkt=zh">
</script>
 <script type="text/javascript">
   function GetMap()
   {
   var mapOptions = {
         credentials: "Ar6Ux3p1cKg6Bv47HRuNEfLoiPUAoTaenN570bHQwgOY1P7uDO1im9txMRSYMv9Z",
         center: new Microsoft.Maps.Location(47.592, -122.332),
         mapTypeId: Microsoft.Maps.MapTypeId.birdseye,
         zoom: 17,
         showScalebar: false
         };
   var map = new Microsoft.Maps.Map(document.getElementById("mapDiv"), mapOptions);
             var center = map.getCenter();
            
            // Add a pin to the center of the map
            var pin = new Microsoft.Maps.Pushpin(center, {text: '1'}); 

            // Create the infobox for the pushpin
            pinInfobox = new Microsoft.Maps.Infobox(pin.getLocation(), 
                {title: 'My Pushpin', 
                 description: 'This pushpin is located at (0,0).', 
                 visible: false, 
                 offset: new Microsoft.Maps.Point(0,15)});

            // Add handler for the pushpin click event.
            Microsoft.Maps.Events.addHandler(pin, 'click', displayInfobox);

            // Hide the infobox when the map is moved.
            Microsoft.Maps.Events.addHandler(map, 'viewchange', hideInfobox);


            // Add the pushpin and infobox to the map
            map.entities.push(pin);
            map.entities.push(pinInfobox);
   }
   function displayInfobox(e)
         {
            pinInfobox.setOptions({ visible:true });
         }                    

         function hideInfobox(e)
         {
            pinInfobox.setOptions({ visible: false });
         }
         function ClickGeocode(credentials)
{
   map.getCredentials(MakeGeocodeRequest);
}
</script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->

  </head>
  
 
  
  <body onload="GetMap();">
  	<div id='mapDiv' style="position:absolute; width:400px; height:400px;"></div>
  	<input id="txtQuery" type="text" value="Portland"/>
<input type="button" value="Geocode" onclick="ClickGeocode()"/>  
  </body>
</html>
